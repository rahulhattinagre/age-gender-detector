{% extends "home.html" %}
{% block main %}

<div class="detector-container">

    <div class="controls">
        <h2>Camera Controls</h2>

        <button type="button" class="start" onclick="startCamera()">â–¶ Start</button>
        <button type="button" class="stop" onclick="stopCamera()">â–  Stop</button>

        <ul>
            <li>ðŸ‘¤ Face Detection</li>
            <li>âš¥ Gender Prediction</li>
            <li>ðŸŽ‚ Age Estimation</li>
        </ul>
    </div>

    <div class="camera-wrapper">
        <img id="videoFeed" src="" alt="">
    </div>

</div>

<script>
let sid = 0;

function startCamera() {
    fetch('/start_camera', { method: 'POST' })
        .then(() => {
            sid++;
            document.getElementById("videoFeed").src =
                `/video_feed?sid=${sid}`;
        });
}

function stopCamera() {
    fetch('/stop_camera', { method: 'POST' })
        .then(() => {
            document.getElementById("videoFeed").src = "";
        });
}
</script>
{% endblock %}
